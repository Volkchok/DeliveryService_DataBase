-- Подключаемся к базе
\c "PolyclinicDB";

-- Врачи
INSERT INTO doctors (full_name, specialization, license_number) VALUES
('Иванов Петр Сергеевич', 'Терапевт', 'ТЕРА-001'),
('Сидорова Анна Владимировна', 'Хирург', 'ХИРУ-001'),
('Козлов Дмитрий Иванович', 'Кардиолог', 'КАРД-001'),
('Петрова Ольга Николаевна', 'Невролог', 'НЕВР-001');

-- Сотрудники регистратуры
INSERT INTO employees (full_name, position, phone, email) VALUES
('Смирнова Елена Алексеевна', 'Регистратор', '+79161234567', 'smirnova@polyclinic.ru'),
('Васильев Игорь Петрович', 'Администратор', '+79167654321', 'vasilev@polyclinic.ru');

-- Пациенты через процедуру
CALL insert_patient('Иванов Иван Иванович', '1980-05-15', 'Москва, ул. Ленина, 1', '4510123456', '123456789012');
CALL insert_patient('Петрова Мария Сергеевна (Иванова)', '1990-08-20', 'Москва, ул. Новая, 25', '4510987654', '987654321098');
CALL insert_patient('Сидоров Алексей Владимирович', '1975-12-10', 'Москва, пр. Мира, 25', '4520123456', '456789012345');
CALL insert_patient('Козлова Елена Петровна', '1988-03-22', 'Москва, ул. Гагарина, 15', '4520987654', '654321098765');

-- Приемы (только будние дни!)
INSERT INTO appointments (patient_id, doctor_id, employee_id, appointment_date, complaints, diagnosis, prescription, status) VALUES
(1, 1, 1, '2024-01-15 09:00:00', 'Головная боль, слабость', 'ОРВИ', 'Постельный режим, обильное питье', 'completed'),
(2, 2, 1, '2024-01-16 10:30:00', 'Боль в колене', 'Артрит', 'Физиотерапия, противовоспалительные', 'completed'),
(3, 3, 2, CURRENT_DATE + INTERVAL '1 day' + INTERVAL '14 hours', 'Боль в груди', 'Гипертония', 'Диета, лекарства', 'scheduled'),
(4, 4, 1, CURRENT_DATE + INTERVAL '2 days' + INTERVAL '11 hours', 'Головокружение', 'Вегетососудистая дистония', 'Успокоительные, режим дня', 'scheduled');

-- Медицинские процедуры
INSERT INTO medical_procedures (appointment_id, procedure_name, procedure_result, procedure_date, doctor_id) VALUES
(1, 'Измерение температуры', '37.8°C', '2024-01-15', 1),
(2, 'Рентген колена', 'Признаки артрита', '2024-01-16', 2),
(3, 'ЭКГ', 'Норма', CURRENT_DATE, 3),
(4, 'Анализ крови', 'Все показатели в норме', CURRENT_DATE, 4);